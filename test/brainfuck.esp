# Hello world in BF
var src = "--[+++++++<---->>-->+>+>+<<<<]<.>++++[-<++++>>->--<<]>>-.>--..>+.<<<.<<-.>>+>->>.+++[.<]";

var pc = 0, dp = 0, stack = [], data = [0];

while(pc < src.length) {
	#print(src[pc], pc, dp, stack, data, '\n');
	switch(src[pc++]) {
		case "<" => {
			if(dp == 0) {
				data.push_front(0);
			}
			else --dp;
		}
		case ">" => {
			if(++dp >= data.length) {
				data.push(0);
			}
		}
		case "+" => data[dp] = (data[dp] + 1)&0xff;
		case '-' => data[dp] = (data[dp] - 1)&0xff;
		case '.' => print(char(data[dp]));
		case "[" => stack.push(pc);
		case "]" => {
			if(data[dp]) pc = stack[-1];
			else stack.pop();
		}
	}
}
