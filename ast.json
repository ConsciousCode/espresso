["progn", ["line", 1, ["var", [["line", 1, ["id", "re"]], ["call", ["line", 1, ["id", "import"]], ["line", 1, ["const", "re"]]]]]], ["line", 3, ["var", [["line", 4, ["id", "PATS"]], ["object", [["line", 5, ["id", "punc"]], ["line", 5, ["const", "[\\(\\)\\[\\]\\{\\}]|\\.(?!\\.)|\\.{3}|[,;:]|=>"]]], [["line", 6, ["id", "cmp"]], ["line", 6, ["const", "[<>!=]=|[<>!]"]]], [["line", 7, ["id", "op"]], ["line", 7, ["const", "[-+=]"]]], [["line", 8, ["id", "dec"]], ["line", 8, ["const", "\\d+"]]], [["line", 9, ["id", "sq"]], ["line", 9, ["const", "'((?:\\\\.|.+?)*?)'"]]], [["line", 9, ["id", "dq"]], ["line", 9, ["const", "\"((?:\\\\.|.+?)*?)\""]]], [["line", 9, ["id", "bq"]], ["line", 9, ["const", "\\`((?:\\\\.|.+?)*?)\\`"]]], [["line", 10, ["id", "id"]], ["line", 10, ["const", "[\\w][\\w\\d]*"]]]]], [["line", 12, ["id", "EVEN_SLASH"]], ["call", ["line", 12, [".", ["line", 12, ["id", "re"]], ["line", 12, ["id", "compile"]]]], ["line", 12, ["const", "\\\\{2}"]]]], [["line", 13, ["id", "RE_CLASS"]], ["call", ["line", 13, [".", ["line", 13, ["id", "re"]], ["line", 13, ["id", "compile"]]]], ["line", 13, ["const", "(?<!\\\\)\\[(?:\\\\.|[^\\]]+?)*\\\\]"]]]], [["line", 14, ["id", "RE_GROUP"]], ["call", ["line", 14, [".", ["line", 14, ["id", "re"]], ["line", 14, ["id", "compile"]]]], ["line", 14, ["const", "(?<!\\\\)\\((?!\\?(?!P<))"]]]], [["line", 15, ["id", "TOKEN"]], ["call", ["line", 15, [".", ["line", 15, ["id", "re"]], ["line", 15, ["id", "compile"]]]], [",", ["line", 15, ["+", ["line", 15, ["+", ["line", 15, ["const", "("]], ["call", ["line", 15, [".", ["line", 15, ["const", ")|("]], ["line", 15, ["id", "join"]]]], ["call", ["line", 15, [".", ["line", 15, ["id", "PATS"]], ["line", 15, ["id", "values"]]]], null]]]], ["line", 15, ["const", ")"]]]], ["line", 15, [".", ["line", 15, ["id", "re"]], ["line", 15, ["id", "M"]]]]]]], [["line", 16, ["id", "COMMENT"]], ["call", ["line", 16, [".", ["line", 16, ["id", "re"]], ["line", 16, ["id", "compile"]]]], [",", ["line", 16, ["const", "\\s*(#\\*(?:.|\\n)*?\\*#\\s*|#\\{|#.*$)"]], ["line", 16, [".", ["line", 16, ["id", "re"]], ["line", 16, ["id", "M"]]]]]]], [["line", 17, ["id", "NEWLINE"]], ["call", ["line", 17, [".", ["line", 17, ["id", "re"]], ["line", 17, ["id", "compile"]]]], ["line", 17, ["const", "\\n"]]]], [["line", 18, ["id", "SPACE"]], ["call", ["line", 18, [".", ["line", 18, ["id", "re"]], ["line", 18, ["id", "compile"]]]], [",", ["line", 18, ["const", "\\s+"]], ["line", 18, [".", ["line", 18, ["id", "re"]], ["line", 18, ["id", "M"]]]]]]]]], ["line", 20, ["var", [["line", 21, ["id", "NAMES"]], ["call", ["line", 21, ["id", "list"]], ["call", ["line", 21, [".", ["line", 21, ["id", "PATS"]], ["line", 21, ["id", "keys"]]]], null]]], [["line", 22, ["id", "PRECS"]], ["object", [["line", 24, ["id", ";"]], ["line", 24, ["const", 0]]], [["line", 25, ["id", ","]], ["line", 25, ["const", 1]]], [["line", 25, ["id", "="]], ["line", 25, ["const", 2]]], [["line", 26, ["id", "after"]], ["line", 26, ["const", 3]]], [["line", 27, ["id", "or"]], ["line", 27, ["const", 4]]], [["line", 27, ["id", "and"]], ["line", 27, ["const", 6]]], [["line", 28, ["id", "in"]], ["line", 28, ["const", 10]]], [["line", 28, ["id", "is"]], ["line", 28, ["const", 10]]], [["line", 29, ["id", "=="]], ["line", 29, ["const", 11]]], [["line", 29, ["id", "!="]], ["line", 29, ["const", 11]]], [["line", 30, ["id", "<"]], ["line", 30, ["const", 12]]], [["line", 30, ["id", "<="]], ["line", 30, ["const", 12]]], [["line", 30, ["id", ">"]], ["line", 30, ["const", 12]]], [["line", 30, ["id", ">="]], ["line", 30, ["const", 12]]], [["line", 31, ["id", "not"]], ["line", 31, ["const", 13]]], [["line", 31, ["id", "~"]], ["line", 31, ["const", 14]]], [["line", 31, ["id", "+"]], ["line", 31, ["const", 15]]], [["line", 31, ["id", "-"]], ["line", 31, ["const", 15]]], [["line", 32, ["id", "."]], ["line", 32, ["const", 17]]]]], [["line", 35, ["id", "RIGHT"]], ["list", ["line", 35, ["const", "**"]]]], [["line", 36, ["id", "KWOP"]], ["list", [",", ["line", 36, ["const", "in"]], [",", ["line", 36, ["const", "is"]], [",", ["line", 36, ["const", "and"]], [",", ["line", 36, ["const", "or"]], [",", ["line", 36, ["const", "not"]], ["line", 36, ["const", "after"]]]]]]]]]]], ["line", 38, ["var", [["line", 38, ["id", "TG"]], ["object"]], [["line", 38, ["id", "index"]], ["line", 38, ["const", 0]]]]], ["line", 39, ["for", ["line", 39, ["id", "name"]], ["call", ["line", 39, [".", ["line", 39, ["id", "PATS"]], ["line", 39, ["id", "keys"]]]], null], ["line", 39, ["block", ["line", 40, ["var", [["line", 40, ["id", "pat"]], ["call", ["line", 40, [".", ["line", 40, ["id", "RE_CLASS"]], ["line", 40, ["id", "sub"]]]], [",", ["line", 40, ["const", ""]], ["call", ["line", 40, [".", ["line", 40, ["id", "EVEN_SLASH"]], ["line", 40, ["id", "sub"]]]], [",", ["line", 40, ["const", ""]], ["[]", ["line", 40, ["id", "PATS"]], ["line", 40, ["id", "name"]]]]]]]]]], ["line", 41, ["var", [["line", 41, ["id", "count"]], ["line", 41, [".", ["call", ["line", 41, ["id", "list"]], ["call", ["line", 41, [".", ["line", 41, ["id", "RE_GROUP"]], ["line", 41, ["id", "findall"]]]], ["line", 41, ["id", "pat"]]]], ["line", 41, ["id", "length"]]]]]]], ["line", 42, ["var", [["line", 42, ["id", "i"]], ["line", 42, ["const", 0]]]]], ["line", 43, ["loop", ["line", 43, ["block", ["line", 44, ["=", ["line", 44, ["id", "index"]], ["line", 44, ["+", ["line", 44, ["id", "index"]], ["line", 44, ["const", 1]]]]]], ["line", 45, ["=", ["[]", ["line", 45, ["id", "TG"]], ["line", 45, ["id", "index"]]], ["list", [",", ["line", 45, ["id", "name"]], ["line", 45, ["id", "count"]]]]]], ["line", 46, ["=", ["line", 46, ["id", "i"]], ["line", 46, ["+", ["line", 46, ["id", "i"]], ["line", 46, ["const", 1]]]]]]]], ["line", 47, ["<=", ["line", 47, ["id", "i"]], ["line", 47, ["id", "count"]]]], null]]]]]], ["line", 50, ["var", [["line", 50, ["id", "stresc"]], ["fn", ["const", "stresc"], [["line", 50, ["id", "s"]]], ["line", 50, ["block", ["call", ["line", 51, [".", ["call", ["line", 51, [".", ["call", ["line", 51, [".", ["line", 51, ["id", "s"]], ["line", 51, ["id", "replace"]]]], [",", ["line", 51, ["const", "\\\r"]], ["line", 51, ["const", "\r"]]]], ["line", 51, ["id", "replace"]]]], [",", ["line", 51, ["const", "\\\n"]], ["line", 51, ["const", "\n"]]]], ["line", 51, ["id", "replace"]]]], [",", ["line", 51, ["const", "\\\t"]], ["line", 51, ["const", "\t"]]]]]]]]]], ["line", 54, ["var", [["line", 54, ["id", "ineq"]], ["fn", ["const", "ineq"], [[",", ["line", 54, ["id", "value"]], ["line", 54, ["id", "desc"]]]], ["line", 54, ["block", ["line", 55, ["if", ["line", 55, ["is", ["line", 55, ["id", "desc"]], ["line", 55, ["id", "list"]]]], ["line", 55, ["block", ["line", 56, ["in", ["line", 56, ["id", "value"]], ["line", 56, ["id", "desc"]]]]]], ["line", 58, ["or", ["line", 58, ["is", ["line", 58, ["id", "desc"]], ["line", 58, ["id", "none"]]]], ["line", 58, ["==", ["line", 58, ["id", "value"]], ["line", 58, ["id", "desc"]]]]]]]]]]]]]], ["line", 61, ["var", [["line", 61, ["id", "Context"]], ["fn", ["const", "Context"], [[",", ["line", 61, ["id", "pos"]], [",", ["line", 61, ["id", "line"]], ["line", 61, ["id", "col"]]]]], ["line", 61, ["block", ["line", 62, ["return", ["object", [["line", 62, ["id", "pos"]], ["line", 62, ["id", "pos"]]], [["line", 62, ["id", "line"]], ["line", 62, ["id", "line"]]], [["line", 62, ["id", "col"]], ["line", 62, ["id", "col"]]]]]]]]]]]], ["line", 65, ["var", [["line", 65, ["id", "Token"]], ["fn", ["const", "Token"], [[",", ["line", 65, ["id", "type"]], [",", ["line", 65, ["id", "match"]], ["line", 65, ["id", "ctx"]]]]], ["line", 65, ["block", ["line", 66, ["return", ["object", [["line", 66, ["id", "type"]], ["line", 66, ["id", "type"]]], [["line", 66, ["id", "match"]], ["line", 66, ["id", "match"]]], [["line", 66, ["id", "ctx"]], ["line", 66, ["id", "ctx"]]], [["line", 66, ["id", "value"]], ["[]", ["line", 66, ["id", "match"]], ["line", 66, ["const", 0]]]]]]]]]]]]], ["line", 69, ["var", [["line", 69, ["id", "AST"]], ["fn", ["const", "AST"], [[",", ["line", 69, ["id", "op"]], ["line", 69, ["id", "args"]]]], ["line", 69, ["block", ["line", 70, ["return", ["object", [["line", 70, ["id", "op"]], ["line", 70, ["id", "op"]]], [["line", 70, ["id", "args"]], ["line", 70, ["id", "args"]]], [["line", 70, ["id", "token"]], ["line", 70, ["id", "token"]]], [["line", 71, ["id", "json"]], ["line", 71, ["fn", ["const", "json"], [null], ["line", 71, ["block", ["line", 72, ["var", [["line", 72, ["id", "out"]], ["list", ["line", 72, [".", ["line", 72, ["id", "this"]], ["line", 72, ["id", "op"]]]]]]]], ["line", 73, ["for", ["line", 73, ["id", "arg"]], ["line", 73, [".", ["line", 73, ["id", "this"]], ["line", 73, ["id", "args"]]]], ["line", 73, ["block", ["line", 74, ["if", ["line", 74, ["is", ["line", 74, ["id", "arg"]], ["line", 74, ["id", "AST"]]]], ["line", 74, ["block", ["call", ["line", 75, [".", ["line", 75, ["id", "out"]], ["line", 75, ["id", "push"]]]], ["call", ["line", 75, [".", ["line", 75, ["id", "arg"]], ["line", 75, ["id", "json"]]]], null]]]], ["call", ["line", 77, [".", ["line", 77, ["id", "out"]], ["line", 77, ["id", "push"]]]], ["line", 77, ["id", "arg"]]]]]]]]], ["line", 80, ["if", ["line", 80, [".", ["line", 80, ["id", "this"]], ["line", 80, ["id", "token"]]]], ["line", 80, ["block", ["list", [",", ["line", 81, ["const", "line"]], [",", ["line", 81, [".", ["line", 81, [".", ["line", 81, [".", ["line", 81, ["id", "this"]], ["line", 81, ["id", "token"]]]], ["line", 81, ["id", "ctx"]]]], ["line", 81, ["id", "line"]]]], ["line", 81, ["id", "out"]]]]]]], ["line", 83, ["id", "out"]]]]]]]]], [["line", 86, ["id", "origin"]], ["line", 86, ["fn", ["const", "origin"], [["line", 86, ["id", "tok"]]], ["line", 86, ["block", ["line", 87, ["=", ["line", 87, [".", ["line", 87, ["id", "this"]], ["line", 87, ["id", "token"]]]], ["line", 87, ["id", "tok"]]]], ["line", 88, ["return", ["line", 88, ["id", "this"]]]]]]]]]]]]]]]]]], ["line", 93, ["var", [["line", 93, ["id", "SPECIAL"]], ["object", [["line", 94, ["id", "("]], ["line", 94, ["fn", ["const", "("], [[",", ["line", 94, ["id", "this"]], [",", ["line", 94, ["id", "lhs"]], ["line", 94, ["id", "min_prec"]]]]], ["line", 94, ["block", ["line", 95, ["=", ["line", 95, ["id", "lhs"]], ["line", 96, ["if", ["line", 96, ["is", ["line", 96, ["id", "lhs"]], ["line", 96, ["id", "none"]]]], ["call", ["line", 96, [".", ["line", 96, ["id", "this"]], ["line", 96, ["id", "semi"]]]], null], ["line", 97, ["block", ["line", 98, ["var", [["line", 98, ["id", "rhs"]], ["list", null]]]], ["line", 99, ["loop", null, ["line", 99, ["var", [["line", 99, ["id", "val"]], ["call", ["line", 99, [".", ["line", 99, ["id", "this"]], ["line", 99, ["id", "expr"]]]], null]]]], ["line", 99, ["block", ["call", ["line", 100, [".", ["line", 100, ["id", "rhs"]], ["line", 100, ["id", "push"]]]], ["line", 100, ["id", "val"]]], ["line", 101, ["if", ["line", 101, ["not", ["call", ["line", 101, [".", ["line", 101, ["id", "this"]], ["line", 101, ["id", "maybe"]]]], ["line", 101, ["const", ","]]]]], ["line", 101, ["break"]], null]]]], null]], ["call", ["line", 103, ["id", "AST"]], [",", ["line", 103, ["const", "call"]], ["list", [",", ["line", 103, ["id", "lhs"]], ["line", 103, ["id", "rhs"]]]]]]]]]]]], ["call", ["line", 106, [".", ["line", 106, ["id", "this"]], ["line", 106, ["id", "expect"]]]], ["line", 106, ["const", ")"]]], ["line", 107, ["return", ["line", 107, ["id", "lhs"]]]]]]]]], [["line", 109, ["id", "["]], ["line", 109, ["fn", ["const", "["], [[",", ["line", 109, ["id", "this"]], [",", ["line", 109, ["id", "lhs"]], ["line", 109, ["id", "min_prec"]]]]], ["line", 109, ["block", ["line", 110, ["=", ["line", 110, ["id", "lhs"]], ["line", 111, ["if", ["line", 111, ["is", ["line", 111, ["id", "lhs"]], ["line", 111, ["id", "none"]]]], ["line", 111, ["block", ["line", 112, ["var", [["line", 112, ["id", "vals"]], ["list", null]]]], ["line", 113, ["loop", null, ["line", 113, ["var", [["line", 113, ["id", "val"]], ["call", ["line", 113, [".", ["line", 113, ["id", "this"]], ["line", 113, ["id", "expr"]]]], ["[]", ["line", 113, ["id", "PRECS"]], ["line", 113, ["const", ","]]]]]]], ["line", 113, ["block", ["call", ["line", 114, [".", ["line", 114, ["id", "vals"]], ["line", 114, ["id", "push"]]]], ["line", 114, ["id", "val"]]], ["line", 116, ["if", ["line", 116, ["not", ["call", ["line", 116, [".", ["line", 116, ["id", "this"]], ["line", 116, ["id", "maybe"]]]], ["line", 116, ["const", ","]]]]], ["line", 116, ["break"]], null]]]], null]], ["call", ["line", 118, [".", ["line", 118, ["id", "this"]], ["line", 118, ["id", "expect"]]]], ["line", 118, ["const", "]"]]], ["call", ["line", 120, ["id", "AST"]], [",", ["line", 120, ["const", "list"]], ["list", ["line", 120, ["id", "vals"]]]]]]], ["call", ["line", 122, ["id", "AST"]], [",", ["line", 122, ["const", "[]"]], ["list", [",", ["line", 122, ["id", "lhs"]], ["call", ["line", 122, [".", ["line", 122, ["id", "this"]], ["line", 122, ["id", "expr"]]]], null]]]]]]]]], ["call", ["line", 124, [".", ["line", 124, ["id", "this"]], ["line", 124, ["id", "expect"]]]], ["line", 124, ["const", "]"]]], ["line", 125, ["return", ["line", 125, ["id", "lhs"]]]]]]]]], [["line", 127, ["id", "{"]], ["line", 127, ["fn", ["const", "{"], [[",", ["line", 127, ["id", "this"]], [",", ["line", 127, ["id", "lhs"]], ["line", 127, ["id", "min_prec"]]]]], ["line", 127, ["block", ["line", 128, ["if", ["line", 128, ["is", ["line", 128, ["id", "lhs"]], ["line", 128, ["id", "none"]]]], ["line", 128, ["block", ["line", 129, ["var", [["line", 129, ["id", "entries"]], ["list", null]]]], ["line", 130, ["loop", null, ["line", 130, ["var", [["line", 130, ["id", "nt"]], ["call", ["line", 130, [".", ["line", 130, ["id", "this"]], ["line", 130, ["id", "peek"]]]], null]]]], ["line", 130, ["block", ["line", 131, ["var", [["line", 131, ["id", "name"]], ["call", ["line", 131, [".", ["line", 131, ["id", "this"]], ["line", 131, ["id", "relaxid"]]]], null]]]], ["line", 132, ["var", [["line", 132, ["id", "vn"]], ["call", ["line", 132, ["id", "AST"]], [",", ["line", 132, ["const", "id"]], ["list", ["line", 132, ["id", "name"]]]]]]]], ["line", 134, ["var", [["line", 134, ["id", "value"]], ["line", 135, ["if", ["call", ["line", 135, [".", ["line", 135, ["id", "this"]], ["line", 135, ["id", "peek"]]]], ["line", 135, ["const", "("]]], ["line", 135, ["block", ["line", 136, ["var", [["line", 136, ["id", "args"]], ["call", ["line", 136, [".", ["line", 136, ["id", "this"]], ["line", 136, ["id", "funcargs"]]]], null]]]], ["line", 137, ["var", [["line", 137, ["id", "body"]], ["call", ["line", 137, [".", ["line", 137, ["id", "this"]], ["line", 137, ["id", "block"]]]], null]]]], ["call", ["line", 138, ["id", "AST"]], [",", ["line", 138, ["const", "fn"]], ["list", [",", ["call", ["line", 138, ["id", "AST"]], [",", ["line", 138, ["const", "const"]], ["list", ["line", 138, ["id", "name"]]]]], [",", ["line", 138, ["id", "args"]], ["line", 138, ["id", "body"]]]]]]]]], ["line", 140, ["if", ["call", ["line", 140, [".", ["line", 140, ["id", "this"]], ["line", 140, ["id", "maybe"]]]], ["line", 140, ["const", ":"]]], ["call", ["line", 140, [".", ["line", 140, ["id", "this"]], ["line", 140, ["id", "expr"]]]], ["[]", ["line", 140, ["id", "PRECS"]], ["line", 140, ["const", ","]]]], ["line", 141, ["id", "vn"]]]]]]]]], ["call", ["line", 143, [".", ["line", 143, ["id", "entries"]], ["line", 143, ["id", "push"]]]], ["list", [",", ["line", 143, ["id", "vn"]], ["line", 143, ["id", "value"]]]]], ["call", ["line", 145, [".", ["line", 145, ["id", "this"]], ["line", 145, ["id", "maybe"]]]], ["line", 145, ["const", ","]]]]], ["line", 147, ["fail", ["line", 147, ["const", "Not implemented: Block call"]]]]]], ["call", ["line", 149, ["id", "AST"]], [",", ["line", 149, ["const", "object"]], ["line", 149, ["id", "entries"]]]]]], null]], ["call", ["line", 152, [".", ["line", 152, ["id", "this"]], ["line", 152, ["id", "expect"]]]], ["line", 152, ["const", "}"]]], ["line", 153, ["return", ["line", 153, ["id", "lhs"]]]]]]]]], [["line", 155, ["id", "."]], ["line", 155, ["fn", ["const", "."], [[",", ["line", 155, ["id", "this"]], [",", ["line", 155, ["id", "lhs"]], ["line", 155, ["id", "min_prec"]]]]], ["line", 155, ["block", ["call", ["line", 156, ["id", "AST"]], [",", ["line", 156, ["const", "."]], [",", ["line", 156, ["id", "lhs"]], ["call", ["line", 156, ["id", "AST"]], [",", ["line", 156, ["const", "const"]], ["list", ["call", ["line", 156, [".", ["line", 156, ["id", "this"]], ["line", 156, ["id", "relaxid"]]]], null]]]]]]]]]]]], [["line", 158, ["id", ","]], ["line", 158, ["fn", ["const", ","], [[",", ["line", 158, ["id", "this"]], [",", ["line", 158, ["id", "lhs"]], ["line", 158, ["id", "min_prec"]]]]], ["line", 158, ["block", ["line", 159, ["var", [["line", 159, ["id", "elems"]], ["list", ["line", 159, ["id", "lhs"]]]]]], ["line", 160, ["loop", ["line", 160, ["block", ["call", ["line", 161, [".", ["line", 161, ["id", "elems"]], ["line", 161, ["id", "push"]]]], ["call", ["line", 161, [".", ["line", 161, ["id", "this"]], ["line", 161, ["id", "expr"]]]], ["[]", ["line", 161, ["id", "PRECS"]], ["line", 161, ["const", ","]]]]]]], ["call", ["line", 162, [".", ["line", 162, ["id", "this"]], ["line", 162, ["id", "maybe"]]]], ["line", 162, ["const", ","]]], null]], ["call", ["line", 164, ["id", "AST"]], [",", ["line", 164, ["const", ","]], ["line", 164, ["id", "lhs"]]]]]]]]]]]]], ["line", 168, ["var", [["line", 168, ["id", "KW"]], ["object", [["line", 169, ["id", "if"]], ["line", 169, ["fn", ["const", "if"], [["line", 169, ["id", "this"]]], ["line", 169, ["block", ["line", 170, ["var", [["line", 171, ["id", "cond"]], ["call", ["line", 171, [".", ["line", 171, ["id", "this"]], ["line", 171, ["id", "condition"]]]], null]], [["line", 172, ["id", "th"]], ["call", ["line", 172, [".", ["line", 172, ["id", "this"]], ["line", 172, ["id", "block"]]]], null]], [["line", 173, ["id", "el"]], ["line", 173, ["if", ["call", ["line", 173, [".", ["line", 173, ["id", "this"]], ["line", 173, ["id", "maybe"]]]], ["line", 173, ["const", "else"]]], ["call", ["line", 173, [".", ["line", 173, ["id", "this"]], ["line", 173, ["id", "block"]]]], null], ["line", 173, ["id", "none"]]]]]]], ["call", ["line", 175, ["id", "AST"]], [",", ["line", 175, ["const", "if"]], ["list", [",", ["line", 175, ["id", "cond"]], [",", ["line", 175, ["id", "th"]], ["line", 175, ["id", "el"]]]]]]]]]]]], [["line", 177, ["id", "loop"]], ["line", 177, ["fn", ["const", "loop"], [["line", 177, ["id", "this"]]], ["line", 177, ["block", ["line", 178, ["var", [["line", 178, ["id", "always"]], ["call", ["line", 178, [".", ["line", 178, ["id", "this"]], ["line", 178, ["id", "block"]]]], null]]]], ["line", 179, ["if", ["call", ["line", 179, [".", ["line", 179, ["id", "this"]], ["line", 179, ["id", "maybe"]]]], ["line", 179, ["const", "while"]]], ["line", 179, ["block", ["call", ["line", 180, ["id", "AST"]], [",", ["line", 180, ["const", "loop"]], ["list", [",", ["line", 180, ["id", "always"]], [",", ["call", ["line", 180, [".", ["line", 180, ["id", "this"]], ["line", 180, ["id", "condition"]]]], null], ["call", ["line", 180, [".", ["line", 180, ["id", "this"]], ["line", 180, ["id", "block"]]]], null]]]]]]]], ["call", ["line", 182, ["id", "AST"]], [",", ["line", 182, ["const", "loop"]], ["list", ["line", 182, ["id", "always"]]]]]]]]]]]], [["line", 184, ["id", "while"]], ["line", 184, ["fn", ["const", "while"], [["line", 184, ["id", "this"]]], ["line", 184, ["block", ["call", ["line", 185, ["id", "AST"]], [",", ["line", 185, ["const", "loop"]], ["list", [",", ["call", ["line", 185, [".", ["line", 185, ["id", "this"]], ["line", 185, ["id", "condition"]]]], null], ["call", ["line", 185, [".", ["line", 185, ["id", "this"]], ["line", 185, ["id", "block"]]]], null]]]]]]]]]], [["line", 187, ["id", "for"]], ["line", 187, ["fn", ["const", "for"], [["line", 187, ["id", "this"]]], ["line", 187, ["block", ["call", ["line", 188, [".", ["line", 188, ["id", "this"]], ["line", 188, ["id", "expect"]]]], ["line", 188, ["const", "("]]], ["call", ["line", 189, [".", ["line", 189, ["id", "this"]], ["line", 189, ["id", "expect"]]]], ["line", 189, ["const", "var"]]], ["line", 191, ["var", [["line", 191, ["id", "itvt"]], ["call", ["line", 191, [".", ["line", 191, ["id", "this"]], ["line", 191, ["id", "peek"]]]], null]]]], ["line", 192, ["var", [["line", 192, ["id", "itvar"]], ["call", ["line", 192, ["id", "AST"]], [",", ["line", 192, ["const", "id"]], ["list", ["call", ["line", 192, [".", ["line", 192, ["id", "this"]], ["line", 192, ["id", "relaxid"]]]], null]]]]]]], ["call", ["line", 193, [".", ["line", 193, ["id", "this"]], ["line", 193, ["id", "expect"]]]], ["line", 193, ["const", "in"]]], ["line", 195, ["var", [["line", 195, ["id", "iter"]], ["call", ["line", 195, [".", ["line", 195, ["id", "this"]], ["line", 195, ["id", "expr"]]]], ["[]", ["line", 195, ["id", "PRECS"]], ["line", 195, ["const", ","]]]]]]], ["call", ["line", 196, [".", ["line", 196, ["id", "this"]], ["line", 196, ["id", "expect"]]]], ["line", 196, ["const", ")"]]], ["call", ["line", 198, ["id", "AST"]], [",", ["line", 198, ["const", "for"]], ["list", [",", ["line", 198, ["id", "itvar"]], [",", ["line", 198, ["id", "iter"]], ["call", ["line", 198, [".", ["line", 198, ["id", "this"]], ["line", 198, ["id", "block"]]]], null]]]]]]]]]]], [["line", 200, ["id", "return"]], ["line", 200, ["fn", ["const", "return"], [["line", 200, ["id", "this"]]], ["call", ["line", 200, ["id", "AST"]], [",", ["line", 200, ["const", "return"]], ["call", ["line", 200, [".", ["line", 200, ["id", "this"]], ["line", 200, ["id", "expr"]]]], ["line", 200, ["const", 0]]]]]]]], [["line", 201, ["id", "fail"]], ["line", 201, ["fn", ["const", "fail"], [["line", 201, ["id", "this"]]], ["call", ["line", 201, ["id", "AST"]], [",", ["line", 201, ["const", "fail"]], ["call", ["line", 201, [".", ["line", 201, ["id", "this"]], ["line", 201, ["id", "expr"]]]], ["line", 201, ["const", 0]]]]]]]], [["line", 202, ["id", "var"]], ["line", 202, ["fn", ["const", "var"], [["line", 202, ["id", "this"]]], ["line", 202, ["block", ["line", 203, ["var", [["line", 203, ["id", "vars"]], ["list", null]]]], ["line", 204, ["loop", ["line", 204, ["block", ["line", 205, ["var", [["line", 205, ["id", "nt"]], ["call", ["line", 205, [".", ["line", 205, ["id", "this"]], ["line", 205, ["id", "peek"]]]], null]]]], ["line", 206, ["var", [["line", 206, ["id", "name"]], ["call", ["line", 206, [".", ["line", 206, ["id", "this"]], ["line", 206, ["id", "relaxid"]]]], null]], [["line", 206, ["id", "value"]], null]]], ["line", 207, ["=", ["line", 207, ["id", "name"]], ["call", ["line", 207, ["id", "AST"]], [",", ["line", 207, ["const", "id"]], ["line", 207, ["id", "name"]]]]]], ["line", 209, ["if", ["call", ["line", 209, [".", ["line", 209, ["id", "this"]], ["line", 209, ["id", "maybe"]]]], ["line", 209, ["const", "="]]], ["line", 209, ["block", ["line", 210, ["=", ["line", 210, ["id", "value"]], ["call", ["line", 210, [".", ["line", 210, ["id", "this"]], ["line", 210, ["id", "expr"]]]], ["line", 210, ["const", 0]]]]]]], null]], ["call", ["line", 213, [".", ["line", 213, ["id", "vars"]], ["line", 213, ["id", "push"]]]], ["list", [",", ["line", 213, ["id", "name"]], ["line", 213, ["id", "value"]]]]]]], ["call", ["line", 214, [".", ["line", 214, ["id", "this"]], ["line", 214, ["id", "maybe"]]]], ["line", 214, ["const", ","]]], null]], ["call", ["line", 216, ["id", "AST"]], [",", ["line", 216, ["const", "var"]], ["line", 216, ["id", "vars"]]]]]]]]]]]]], ["line", 220, ["var", [["line", 220, ["id", "Parser"]], ["object", [["line", 221, ["id", "init"]], ["line", 221, ["fn", ["const", "init"], [["line", 221, ["id", "src"]]], ["line", 221, ["block", ["line", 222, ["=", ["line", 222, [".", ["line", 222, ["id", "this"]], ["line", 222, ["id", "src"]]]], ["line", 222, ["id", "src"]]]], ["line", 223, ["=", ["line", 223, [".", ["line", 223, ["id", "this"]], ["line", 223, ["id", "ctx"]]]], ["call", ["line", 223, ["id", "Context"]], [",", ["line", 223, ["const", 0]], [",", ["line", 223, ["const", 1]], ["line", 223, ["const", 1]]]]]]], ["line", 224, ["=", ["line", 224, [".", ["line", 224, ["id", "this"]], ["line", 224, ["id", "cur"]]]], ["line", 224, ["id", "none"]]]], ["call", ["line", 225, [".", ["line", 225, ["id", "this"]], ["line", 225, ["id", "consume"]]]], null]]]]]], [["line", 232, ["id", "repos"]], ["line", 232, ["fn", ["const", "repos"], [["line", 232, ["id", "m"]]], ["line", 232, ["block", ["line", 233, ["if", ["line", 233, ["is", ["line", 233, ["id", "m"]], ["line", 233, ["id", "none"]]]], ["line", 233, ["return", null]], null]], ["line", 235, ["var", [["line", 236, ["id", "old"]], ["line", 236, [".", ["line", 236, ["id", "this"]], ["line", 236, ["id", "ctx"]]]]], [["line", 237, ["id", "l"]], ["line", 237, [".", ["line", 237, ["id", "old"]], ["line", 237, ["id", "line"]]]]], [["line", 238, ["id", "c"]], ["line", 238, [".", ["line", 238, ["id", "old"]], ["line", 238, ["id", "col"]]]]], [["line", 239, ["id", "p"]], ["line", 239, ["+", ["line", 239, [".", ["line", 239, ["id", "old"]], ["line", 239, ["id", "pos"]]]], ["line", 239, [".", ["[]", ["line", 239, ["id", "m"]], ["line", 239, ["const", 0]]], ["line", 239, ["id", "length"]]]]]]]]], ["line", 241, ["var", [["line", 241, ["id", "lines"]], ["call", ["line", 241, [".", ["line", 241, ["id", "NEWLINE"]], ["line", 241, ["id", "split"]]]], ["[]", ["line", 241, ["id", "m"]], ["line", 241, ["const", 0]]]]]]], ["line", 242, ["if", ["line", 242, [">", ["line", 242, [".", ["line", 242, ["id", "lines"]], ["line", 242, ["id", "length"]]]], ["line", 242, ["const", 1]]]], ["line", 242, ["block", ["line", 243, ["=", ["line", 243, ["id", "l"]], ["line", 243, ["-", ["line", 243, ["+", ["line", 243, ["id", "l"]], ["line", 243, [".", ["line", 243, ["id", "lines"]], ["line", 243, ["id", "length"]]]]]], ["line", 243, ["const", 1]]]]]], ["line", 244, ["=", ["line", 244, ["id", "c"]], ["line", 244, [".", ["[]", ["line", 244, ["id", "lines"]], ["line", 244, ["-", ["line", 244, ["const", 1]]]]], ["line", 244, ["id", "length"]]]]]]]], ["line", 246, ["=", ["line", 246, ["id", "c"]], ["line", 246, ["+", ["line", 246, ["id", "c"]], ["line", 246, [".", ["[]", ["line", 246, ["id", "m"]], ["line", 246, ["const", 0]]], ["line", 246, ["id", "length"]]]]]]]]]], ["line", 248, ["=", ["line", 248, [".", ["line", 248, ["id", "this"]], ["line", 248, ["id", "ctx"]]]], ["call", ["line", 248, ["id", "Context"]], [",", ["line", 248, ["id", "p"]], [",", ["line", 248, ["id", "l"]], ["line", 248, ["id", "c"]]]]]]], ["line", 249, ["return", ["line", 249, ["id", "old"]]]]]]]]], [["line", 252, ["id", "error"]], ["line", 252, ["fn", ["const", "error"], [["line", 252, ["id", "msg"]]], ["line", 252, ["return", ["object", [["line", 252, ["id", "typename"]], ["line", 252, ["const", "Error"]]], [["line", 252, ["id", "msg"]], ["line", 252, ["id", "msg"]]], [["line", 252, ["id", "ctx"]], ["line", 252, [".", ["line", 252, ["id", "this"]], ["line", 252, ["id", "ctx"]]]]]]]]]]], [["line", 253, ["id", "match"]], ["line", 253, ["fn", ["const", "match"], [["line", 253, ["id", "reg"]]], ["call", ["line", 253, [".", ["line", 253, ["id", "reg"]], ["line", 253, ["id", "match"]]]], [",", ["line", 253, [".", ["line", 253, ["id", "this"]], ["line", 253, ["id", "src"]]]], ["line", 253, [".", ["line", 253, [".", ["line", 253, ["id", "this"]], ["line", 253, ["id", "ctx"]]]], ["line", 253, ["id", "pos"]]]]]]]]], [["line", 255, ["id", "next"]], ["line", 255, ["fn", ["const", "next"], [null], ["line", 255, ["block", ["line", 256, ["var", [["line", 256, ["id", "m"]], null], [["line", 256, ["id", "type"]], null]]], ["line", 257, ["loop", null, ["line", 257, ["=", ["line", 257, ["id", "m"]], ["call", ["line", 257, [".", ["line", 257, ["id", "this"]], ["line", 257, ["id", "match"]]]], ["line", 257, ["id", "COMMENT"]]]]], ["line", 257, ["block", ["call", ["line", 258, [".", ["line", 258, ["id", "this"]], ["line", 258, ["id", "repos"]]]], ["line", 258, ["id", "m"]]]]], null]], ["call", ["line", 260, [".", ["line", 260, ["id", "this"]], ["line", 260, ["id", "repos"]]]], ["call", ["line", 260, [".", ["line", 260, ["id", "this"]], ["line", 260, ["id", "match"]]]], ["line", 260, ["id", "SPACE"]]]], ["line", 262, ["=", ["line", 262, ["id", "m"]], ["call", ["line", 262, [".", ["line", 262, ["id", "this"]], ["line", 262, ["id", "match"]]]], ["line", 262, ["id", "TOKEN"]]]]], ["line", 263, ["if", ["line", 263, ["is", ["line", 263, ["id", "m"]], ["line", 263, ["id", "none"]]]], ["line", 263, ["return", ["line", 263, ["id", "none"]]]], null]], ["line", 265, ["if", ["line", 265, ["in", ["[]", ["line", 265, ["id", "m"]], ["line", 265, ["const", 0]]], ["line", 265, ["id", "KW"]]]], ["line", 265, ["=", ["line", 265, ["id", "type"]], ["line", 265, ["const", "kw"]]]], ["line", 266, ["if", ["line", 266, ["in", ["[]", ["line", 266, ["id", "m"]], ["line", 266, ["const", 0]]], ["line", 266, ["id", "KWOP"]]]], ["line", 266, ["=", ["line", 266, ["id", "type"]], ["line", 266, ["const", "op"]]]], ["line", 267, ["block", ["line", 268, ["var", [["line", 268, ["id", "tt_gc"]], ["[]", ["line", 268, ["id", "TG"]], ["line", 268, [".", ["line", 268, ["id", "m"]], ["line", 268, ["id", "lastindex"]]]]]]]], ["line", 269, ["if", ["line", 269, ["is", ["line", 269, ["id", "tt_gc"]], ["line", 269, ["id", "none"]]]], ["line", 269, ["fail", ["line", 269, ["+", ["line", 269, ["const", "Invalid regex group "]], ["line", 269, [".", ["line", 269, ["id", "m"]], ["line", 269, ["id", "lastindex"]]]]]]]], null]], ["line", 271, ["=", ["line", 271, ["id", "m"]], ["[]", ["call", ["line", 271, [".", ["line", 271, ["id", "m"]], ["line", 271, ["id", "groups"]]]], null], ["call", ["line", 271, ["id", "slice"]], [",", ["line", 271, ["-", ["line", 271, [".", ["line", 271, ["id", "m"]], ["line", 271, ["id", "lastindex"]]]], ["line", 271, ["const", 1]]]], ["line", 271, ["+", ["line", 271, [".", ["line", 271, ["id", "m"]], ["line", 271, ["id", "lastindex"]]]], ["[]", ["line", 271, ["id", "tt_gc"]], ["line", 271, ["const", 1]]]]]]]]]], ["line", 272, ["=", ["line", 272, ["id", "type"]], ["[]", ["line", 272, ["id", "tt_gc"]], ["line", 272, ["const", 0]]]]]]]]]]], ["call", ["line", 275, ["id", "Token"]], [",", ["line", 275, ["id", "type"]], [",", ["line", 275, ["id", "m"]], ["call", ["line", 275, [".", ["line", 275, ["id", "this"]], ["line", 275, ["id", "repos"]]]], ["line", 275, ["id", "m"]]]]]]]]]]], [["line", 278, ["id", "consume"]], ["line", 278, ["fn", ["const", "consume"], [null], ["line", 278, ["return", ["line", 278, ["=", ["line", 278, [".", ["line", 278, ["id", "this"]], ["line", 278, ["id", "cur"]]]], ["call", ["line", 278, [".", ["line", 278, ["id", "this"]], ["line", 278, ["id", "next"]]]], null]]]]]]]], [["line", 284, ["id", "peek"]], ["line", 284, ["fn", ["const", "peek"], [[",", ["line", 284, ["id", "value"]], ["line", 284, ["id", "type"]]]], ["line", 284, ["block", ["line", 285, ["var", [["line", 285, ["id", "cur"]], ["line", 285, [".", ["line", 285, ["id", "this"]], ["line", 285, ["id", "cur"]]]]]]], ["line", 286, ["if", ["line", 286, ["and", ["line", 286, ["and", ["line", 286, ["id", "cur"]], ["call", ["line", 286, ["id", "ineq"]], [",", ["line", 286, [".", ["line", 286, ["id", "cur"]], ["line", 286, ["id", "value"]]]], ["line", 286, ["id", "value"]]]]]], ["call", ["line", 286, ["id", "ineq"]], [",", ["line", 286, [".", ["line", 286, ["id", "cur"]], ["line", 286, ["id", "type"]]]], ["line", 286, ["id", "type"]]]]]], ["line", 286, ["block", ["line", 287, ["return", ["line", 287, ["id", "cur"]]]]]], null]]]]]]], [["line", 290, ["id", "maybe"]], ["line", 290, ["fn", ["const", "maybe"], [[",", ["line", 290, ["id", "value"]], ["line", 290, ["id", "type"]]]], ["line", 290, ["block", ["line", 291, ["var", [["line", 291, ["id", "tok"]], ["call", ["line", 291, [".", ["line", 291, ["id", "this"]], ["line", 291, ["id", "peek"]]]], [",", ["line", 291, ["id", "value"]], ["line", 291, ["id", "type"]]]]]]], ["line", 292, ["if", ["line", 292, ["id", "tok"]], ["call", ["line", 292, [".", ["line", 292, ["id", "this"]], ["line", 292, ["id", "consume"]]]], null], null]], ["line", 293, ["return", ["line", 293, ["id", "tok"]]]]]]]]], [["line", 295, ["id", "expect"]], ["line", 295, ["fn", ["const", "expect"], [[",", ["line", 295, ["id", "value"]], ["line", 295, ["id", "type"]]]], ["line", 295, ["block", ["line", 296, ["if", ["line", 296, ["var", [["line", 296, ["id", "tok"]], ["call", ["line", 296, [".", ["line", 296, ["id", "this"]], ["line", 296, ["id", "maybe"]]]], [",", ["line", 296, ["id", "value"]], ["line", 296, ["id", "type"]]]]]]], ["line", 296, ["return", ["line", 296, ["id", "tok"]]]], null]], ["line", 298, ["var", [["line", 298, ["id", "tok"]], ["call", ["line", 298, [".", ["line", 298, ["id", "this"]], ["line", 298, ["id", "peek"]]]], null]]]], ["line", 299, ["fail", ["call", ["line", 299, [".", ["line", 299, ["id", "this"]], ["line", 299, ["id", "error"]]]], ["line", 299, ["+", ["line", 299, ["+", ["line", 299, ["+", ["line", 299, ["+", ["line", 299, ["+", ["line", 299, ["const", "Expected "]], ["line", 299, ["or", ["line", 299, ["id", "value"]], ["line", 299, ["id", "type"]]]]]], ["line", 299, ["const", ", got "]]]], ["line", 299, [".", ["line", 299, ["id", "tok"]], ["line", 299, ["id", "type"]]]]]], ["line", 299, ["const", ":"]]]], ["line", 299, [".", ["line", 299, ["id", "tok"]], ["line", 299, ["id", "value"]]]]]]]]]]]]]], [["line", 302, ["id", "expected"]], ["line", 302, ["fn", ["const", "expected"], [["line", 302, ["id", "what"]]], ["line", 302, ["block", ["call", ["line", 303, [".", ["line", 303, ["id", "this"]], ["line", 303, ["id", "error"]]]], ["line", 303, ["+", ["line", 303, ["+", ["line", 303, ["+", ["line", 303, ["const", "Expected "]], ["line", 303, ["id", "what"]]]], ["line", 303, ["const", ", got "]]]], ["call", ["line", 303, [".", ["line", 303, ["id", "this"]], ["line", 303, ["id", "peek"]]]], null]]]]]]]]], [["line", 306, ["id", "parse"]], ["line", 306, ["fn", ["const", "parse"], [null], ["call", ["line", 306, ["id", "AST"]], [",", ["line", 306, ["const", "progn"]], ["call", ["line", 306, [".", ["line", 306, ["id", "this"]], ["line", 306, ["id", "semi"]]]], null]]]]]], [["line", 312, ["id", "condition"]], ["line", 312, ["fn", ["const", "condition"], [null], ["line", 312, ["block", ["line", 313, ["if", ["call", ["line", 313, [".", ["line", 313, ["id", "this"]], ["line", 313, ["id", "maybe"]]]], ["line", 313, ["const", "("]]], ["line", 313, ["block", ["line", 314, ["var", [["line", 314, ["id", "ex"]], ["call", ["line", 314, [".", ["line", 314, ["id", "this"]], ["line", 314, ["id", "expr"]]]], ["line", 314, ["const", 0]]]]]], ["call", ["line", 315, [".", ["line", 315, ["id", "this"]], ["line", 315, ["id", "expect"]]]], ["line", 315, ["const", ")"]]], ["line", 316, ["return", ["line", 316, ["id", "ex"]]]]]], ["call", ["line", 318, [".", ["line", 318, ["id", "this"]], ["line", 318, ["id", "expr"]]]], ["line", 318, ["const", 0]]]]]]]]]], [["line", 321, ["id", "funcargs"]], ["line", 321, ["fn", ["const", "funcargs"], [null], ["line", 321, ["block", ["call", ["line", 322, [".", ["line", 322, ["id", "this"]], ["line", 322, ["id", "expect"]]]], ["line", 322, ["const", "("]]], ["line", 323, ["var", [["line", 323, ["id", "args"]], ["list", null]]]], ["line", 324, ["loop", ["line", 324, ["block", ["call", ["line", 325, [".", ["line", 325, ["id", "args"]], ["line", 325, ["id", "push"]]]], ["call", ["line", 325, [".", ["line", 325, ["id", "this"]], ["line", 325, ["id", "atom"]]]], null]]]], ["call", ["line", 326, [".", ["line", 326, ["id", "this"]], ["line", 326, ["id", "maybe"]]]], ["line", 326, ["const", ","]]], null]], ["call", ["line", 327, [".", ["line", 327, ["id", "this"]], ["line", 327, ["id", "expect"]]]], ["line", 327, ["const", ")"]]], ["line", 329, ["return", ["line", 329, ["id", "args"]]]]]]]]], [["line", 332, ["id", "relaxid"]], ["line", 332, ["fn", ["const", "relaxid"], [null], ["line", 332, ["block", ["line", 333, ["var", [["line", 333, ["id", "tok"]], ["call", ["line", 333, [".", ["line", 333, ["id", "this"]], ["line", 333, ["id", "maybe"]]]], [",", ["line", 333, ["id", "none"]], ["list", [",", ["line", 333, ["const", "id"]], [",", ["line", 333, ["const", "kw"]], [",", ["line", 333, ["const", "op"]], [",", ["line", 333, ["const", "cmp"]], ["line", 333, ["const", "assign"]]]]]]]]]]]], ["line", 334, ["if", ["line", 334, ["id", "tok"]], ["line", 334, [".", ["line", 334, ["id", "tok"]], ["line", 334, ["id", "value"]]]], ["line", 335, ["if", ["line", 335, ["=", ["line", 335, ["id", "tok"]], ["call", ["line", 335, [".", ["line", 335, ["id", "this"]], ["line", 335, ["id", "maybe"]]]], [",", ["line", 335, ["id", "none"]], ["list", [",", ["line", 335, ["const", "sq"]], [",", ["line", 335, ["const", "dq"]], ["line", 335, ["const", "bq"]]]]]]]]], ["[]", ["line", 335, [".", ["line", 335, ["id", "tok"]], ["line", 335, ["id", "match"]]]], ["line", 335, ["const", 1]]], null]]]]]]]]], [["line", 337, ["id", "ident"]], ["line", 337, ["fn", ["const", "ident"], [null], ["line", 337, ["block", ["line", 338, ["if", ["line", 338, ["var", [["line", 338, ["id", "tok"]], ["call", ["line", 338, [".", ["line", 338, ["id", "this"]], ["line", 338, ["id", "maybe"]]]], [",", ["line", 338, ["id", "none"]], ["line", 338, ["const", "id"]]]]]]], ["line", 338, [".", ["line", 338, ["id", "tok"]], ["line", 338, ["id", "value"]]]], null]]]]]]], [["line", 341, ["id", "block"]], ["line", 341, ["fn", ["const", "block"], [null], ["line", 341, ["block", ["line", 342, ["var", [["line", 342, ["id", "x"]], null], [["line", 342, ["id", "tok"]], null]]], ["line", 343, ["if", ["line", 343, ["=", ["line", 343, ["id", "tok"]], ["call", ["line", 343, [".", ["line", 343, ["id", "this"]], ["line", 343, ["id", "maybe"]]]], ["line", 343, ["const", "{"]]]]], ["line", 343, ["block", ["line", 344, ["=", ["line", 344, ["id", "x"]], ["call", ["line", 344, [".", ["line", 344, ["id", "this"]], ["line", 344, ["id", "semi"]]]], null]]], ["call", ["line", 345, [".", ["line", 345, ["id", "this"]], ["line", 345, ["id", "expect"]]]], ["line", 345, ["const", "}"]]], ["call", ["line", 346, [".", ["line", 346, ["id", "x"]], ["line", 346, ["id", "origin"]]]], ["line", 346, ["id", "tok"]]]]], ["line", 348, ["block", ["line", 349, ["=", ["line", 349, ["id", "x"]], ["call", ["line", 349, [".", ["line", 349, ["id", "this"]], ["line", 349, ["id", "expr"]]]], ["line", 349, ["const", 0]]]]], ["call", ["line", 350, [".", ["line", 350, ["id", "this"]], ["line", 350, ["id", "maybe"]]]], ["line", 350, ["const", ";"]]]]]]], ["line", 352, ["return", ["line", 352, ["id", "x"]]]]]]]]], [["line", 359, ["id", "semi"]], ["line", 359, ["fn", ["const", "semi"], [null], ["line", 359, ["block", ["line", 360, ["var", [["line", 360, ["id", "ls"]], ["list", null]]]], ["line", 361, ["loop", ["line", 361, ["block", ["line", 362, ["loop", null, ["call", ["line", 362, [".", ["line", 362, ["id", "this"]], ["line", 362, ["id", "maybe"]]]], ["line", 362, ["const", ";"]]], ["line", 362, ["block"]], null]]]], ["line", 364, ["var", [["line", 364, ["id", "val"]], ["call", ["line", 364, [".", ["line", 364, ["id", "this"]], ["line", 364, ["id", "expr"]]]], ["line", 364, ["const", 0]]]]]], ["line", 364, ["block", ["call", ["line", 365, [".", ["line", 365, ["id", "ls"]], ["line", 365, ["id", "push"]]]], ["line", 365, ["id", "val"]]]]]]], ["line", 368, ["if", ["line", 368, ["==", ["line", 368, [".", ["line", 368, ["id", "ls"]], ["line", 368, ["id", "length"]]]], ["line", 368, ["const", 1]]]], ["[]", ["line", 368, ["id", "ls"]], ["line", 368, ["const", 0]]], ["call", ["line", 369, ["id", "AST"]], [",", ["line", 369, ["const", "block"]], ["line", 369, ["id", "ls"]]]]]]]]]]], [["line", 376, ["id", "expr"]], ["line", 376, ["fn", ["const", "expr"], [["line", 376, ["id", "min_prec"]]], ["line", 376, ["block", ["line", 377, ["var", [["line", 377, ["id", "lhs"]], ["call", ["line", 377, [".", ["line", 377, ["id", "this"]], ["line", 377, ["id", "atom"]]]], null]]]], ["line", 379, ["loop", null, ["line", 379, ["var", [["line", 379, ["id", "tok"]], ["call", ["line", 379, [".", ["line", 379, ["id", "this"]], ["line", 379, ["id", "peek"]]]], null]]]], ["line", 379, ["block", ["line", 380, ["var", [["line", 380, ["id", "op"]], ["line", 380, [".", ["line", 380, ["id", "tok"]], ["line", 380, ["id", "value"]]]]]]], ["line", 381, ["if", ["line", 381, ["==", ["line", 381, ["id", "op"]], ["line", 381, ["const", ";"]]]], ["line", 381, ["break"]], null]], ["line", 383, ["var", [["line", 383, ["id", "prec"]], ["[]", ["line", 383, ["id", "PRECS"]], ["line", 383, ["id", "op"]]]]]], ["line", 384, ["if", ["line", 384, ["or", ["line", 384, ["is", ["line", 384, ["id", "prec"]], ["line", 384, ["id", "none"]]]], ["line", 384, ["<", ["line", 384, ["id", "prec"]], ["line", 384, ["id", "min_prec"]]]]]], ["line", 384, ["break"]], null]], ["call", ["line", 386, [".", ["line", 386, ["id", "this"]], ["line", 386, ["id", "consume"]]]], null], ["line", 388, ["=", ["line", 388, ["id", "lhs"]], ["line", 389, ["if", ["line", 389, ["in", ["line", 389, ["id", "op"]], ["line", 389, ["id", "SPECIAL"]]]], ["call", ["[]", ["line", 389, ["id", "SPECIAL"]], ["line", 389, ["id", "op"]]], [",", ["line", 389, ["id", "lhs"]], ["line", 389, ["id", "tok"]]]], ["line", 390, ["block", ["line", 391, ["var", [["line", 391, ["id", "rhs"]], ["call", ["line", 391, [".", ["line", 391, ["id", "this"]], ["line", 391, ["id", "expr"]]]], ["line", 391, ["+", ["line", 391, ["id", "prec"]], ["line", 391, ["not", ["line", 391, ["in", ["line", 391, ["id", "op"]], ["line", 391, ["id", "RIGHT"]]]]]]]]]]]], ["line", 392, ["if", ["line", 392, ["is", ["line", 392, ["id", "rhs"]], ["line", 392, ["id", "none"]]]], ["line", 392, ["break"]], null]], ["call", ["line", 393, ["id", "AST"]], [",", ["line", 393, ["id", "op"]], [",", ["line", 393, ["id", "lhs"]], ["line", 393, ["id", "rhs"]]]]]]]]]]], ["call", ["line", 396, [".", ["line", 396, ["id", "lhs"]], ["line", 396, ["id", "origin"]]]], ["line", 396, ["id", "tok"]]]]], null]], ["line", 399, ["return", ["line", 399, ["id", "lhs"]]]]]]]]], [["line", 406, ["id", "atom"]], ["line", 406, ["fn", ["const", "atom"], [null], ["line", 406, ["block", ["line", 407, ["var", [["line", 407, ["id", "cur"]], ["call", ["line", 407, [".", ["line", 407, ["id", "this"]], ["line", 407, ["id", "peek"]]]], null]]]], ["line", 408, ["if", ["line", 408, ["is", ["line", 408, ["id", "cur"]], ["line", 408, ["id", "none"]]]], ["line", 408, ["return", null]], null]], ["line", 410, ["var", [["line", 410, ["id", "val"]], ["line", 410, [".", ["line", 410, ["id", "cur"]], ["line", 410, ["id", "value"]]]]], [["line", 410, ["id", "ct"]], ["line", 410, [".", ["line", 410, ["id", "cur"]], ["line", 410, ["id", "type"]]]]]]], ["line", 413, ["if", ["line", 413, ["in", ["line", 413, ["id", "val"]], ["list", [",", ["line", 413, ["const", ")"]], [",", ["line", 413, ["const", "]"]], [",", ["line", 413, ["const", "}"]], [",", ["line", 413, ["const", ","]], [",", ["line", 413, ["const", ";"]], ["line", 413, ["const", "else"]]]]]]]]]], ["line", 413, ["block", ["line", 414, ["return", ["line", 414, ["id", "none"]]]]]], null]], ["call", ["line", 417, [".", ["line", 417, ["id", "this"]], ["line", 417, ["id", "consume"]]]], null], ["line", 419, ["var", [["line", 419, ["id", "result"]], ["line", 420, ["if", ["line", 420, ["==", ["line", 420, ["id", "ct"]], ["line", 420, ["const", "dec"]]]], ["call", ["line", 420, ["id", "AST"]], [",", ["line", 420, ["const", "const"]], ["call", ["line", 420, ["id", "int"]], [",", ["line", 420, ["id", "val"]], ["line", 420, ["const", 10]]]]]], ["line", 421, ["if", ["line", 421, ["in", ["line", 421, ["id", "ct"]], ["list", [",", ["line", 421, ["const", "sq"]], ["line", 421, ["const", "dq"]]]]]], ["call", ["line", 421, ["id", "AST"]], [",", ["line", 421, ["const", "const"]], ["call", ["line", 421, ["id", "stresc"]], ["[]", ["line", 421, [".", ["line", 421, ["id", "cur"]], ["line", 421, ["id", "match"]]]], ["line", 421, ["const", 1]]]]]], ["line", 422, ["if", ["line", 422, ["==", ["line", 422, ["id", "ct"]], ["line", 422, ["const", "bq"]]]], ["call", ["line", 422, ["id", "AST"]], [",", ["line", 422, ["const", "const"]], ["[]", ["line", 422, [".", ["line", 422, ["id", "cur"]], ["line", 422, ["id", "match"]]]], ["line", 422, ["const", 1]]]]], ["line", 423, ["if", ["line", 423, ["==", ["line", 423, ["id", "ct"]], ["line", 423, ["const", "id"]]]], ["call", ["line", 423, ["id", "AST"]], [",", ["line", 423, ["const", "id"]], ["line", 423, ["id", "val"]]]], ["line", 424, ["if", ["line", 424, ["==", ["line", 424, ["id", "ct"]], ["line", 424, ["const", "kw"]]]], ["call", ["[]", ["line", 424, ["id", "KW"]], ["line", 424, ["id", "val"]]], ["line", 424, ["id", "this"]]], ["line", 425, ["block", ["line", 426, ["fail", ["call", ["line", 426, [".", ["line", 426, ["id", "this"]], ["line", 426, ["id", "error"]]]], ["line", 426, ["+", ["line", 426, ["+", ["line", 426, ["+", ["line", 426, ["const", "Unknown token "]], ["line", 426, ["id", "ct"]]]], ["line", 426, ["const", " = "]]]], ["line", 426, ["id", "val"]]]]]]]]]]]]]]]]]]]]]], ["call", ["line", 429, [".", ["line", 429, ["id", "result"]], ["line", 429, ["id", "origin"]]]], ["line", 429, ["id", "cur"]]]]]]]]]]]], ["line", 433, ["var", [["line", 433, ["id", "json"]], ["call", ["line", 433, ["id", "import"]], ["line", 433, ["const", "json"]]]]]], ["line", 435, ["var", [["line", 435, ["id", "f"]], ["call", ["line", 435, ["id", "open"]], ["[]", ["line", 435, ["id", "argv"]], ["line", 435, ["const", 0]]]]]]], ["line", 436, ["var", [["line", 436, ["id", "p"]], ["call", ["line", 436, [".", ["line", 436, ["id", "Parser"]], ["line", 436, ["id", "init"]]]], ["call", ["line", 436, [".", ["line", 436, ["id", "f"]], ["line", 436, ["id", "read"]]]], null]]]]], ["call", ["line", 437, [".", ["line", 437, ["id", "f"]], ["line", 437, ["id", "close"]]]], null], ["line", 438, ["var", [["line", 438, ["id", "ast"]], ["call", ["line", 438, [".", ["line", 438, ["id", "p"]], ["line", 438, ["id", "parse"]]]], null]]]], ["call", ["line", 439, ["id", "print"]], ["line", 439, ["id", "ast"]]], ["call", ["line", 440, ["id", "print"]], ["call", ["line", 440, [".", ["line", 440, ["id", "json"]], ["line", 440, ["id", "dumps"]]]], ["call", ["line", 440, [".", ["line", 440, ["id", "ast"]], ["line", 440, ["id", "json"]]]], null]]]]